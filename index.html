<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å¯ä»¥æˆä¸ºæˆ‘æœ€å¥½çš„æœ‹å‹å—ï¼Ÿ</title>
  <style>
    body{
      margin:0;height:100vh;display:grid;place-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:linear-gradient(135deg,#ffe0ea,#fff7d6);
    }
    .card{
      width:min(560px,92vw);
      background:rgba(255,255,255,.92);
      border-radius:24px;padding:28px 22px;
      box-shadow:0 10px 30px rgba(0,0,0,.12);
      text-align:center;position:relative;overflow:hidden;
    }

    /* é¡¶éƒ¨ç…§ç‰‡ */
    .hero{
      width: min(420px, 92%);
      height: auto;
      max-height: 240px;
      object-fit: contain;
      border-radius: 18px;
      margin: 2px auto 14px;
      display: block;
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    h1{margin:8px 0 10px;font-size:28px}
    #sub{margin:0 0 18px;color:#555}
    .btns{
      position:relative;
      display:flex;justify-content:center;gap:14px;flex-wrap:wrap;
      height:62px;
      align-items:center;
    }
    button{
      border:0;padding:14px 20px;border-radius:14px;
      font-size:16px;cursor:pointer;user-select:none;
      box-shadow:0 6px 16px rgba(0,0,0,.12);
      transition:transform .15s ease, box-shadow .15s ease, width .15s ease, padding .15s ease;
      position:relative;
    }
    button:active{transform:scale(.98)}
    #yes{background:#ff4d7d;color:#fff}
    #no{background:#f1f1f1;color:#333;position:absolute}
    .result{margin-top:18px;font-size:20px;font-weight:800;color:#ff2d67;min-height:28px}

    /* å°å¼¹çª— */
    .modal-backdrop{
      position:absolute;inset:0;background:rgba(0,0,0,.35);
      display:none;align-items:center;justify-content:center;
      padding:18px;
    }
    .modal-backdrop.show{display:flex}
    .modal{
      width:min(420px,92vw);
      background:#fff;border-radius:18px;padding:18px 16px;
      box-shadow:0 12px 30px rgba(0,0,0,.22);
      text-align:left;
    }
    .modal h2{margin:0 0 8px;font-size:18px}
    .modal p{margin:0 0 14px;color:#444;line-height:1.4}
    .modal .row{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap}
    .modal .ghost{background:#f1f1f1;color:#333}
    .modal .hot{background:#ff4d7d;color:#fff}
  </style>
</head>
<body>
  <div class="card" id="card">

    <!-- ä¸€å¼€å§‹æ˜¾ç¤º angry.jpg -->
    <img id="heroImg" class="hero" src="bear.jpg" alt="å°ç†Šç…§ç‰‡">

    <h1 id="title">å¯ä»¥æˆä¸ºæˆ‘æœ€å¥½çš„æœ‹å‹å—ï¼ŸğŸ’›</h1>
    <p id="sub">ä¸ç€æ€¥å›ç­”ï¼Œæˆ‘åªæ˜¯è®¤çœŸé—®é—®ã€‚</p>

    <div class="btns" id="btnArea">
      <button id="yes">å¯ä»¥ âœ…</button>
      <button id="no">ä¸è¡Œ âŒ</button>
    </div>

    <div class="result" id="result"></div>

    <!-- ç¡®è®¤å¼¹çª— -->
    <div class="modal-backdrop" id="backdrop">
      <div class="modal">
        <h2 id="mTitle">ä½ ç¡®å®šå—ï¼Ÿ</h2>
        <p id="mText">çœŸçš„ç¡®å®šå—ï¼Ÿ</p>
        <div class="row">
          <button class="ghost" id="mCancel">æˆ‘å†æƒ³æƒ³â€¦</button>
          <button class="hot" id="mOk">æˆ‘ç¡®å®š âœ…</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const btnArea = document.getElementById("btnArea");
    const yes = document.getElementById("yes");
    const no = document.getElementById("no");
    const result = document.getElementById("result");
    const heroImg = document.getElementById("heroImg");

    const backdrop = document.getElementById("backdrop");
    const mTitle = document.getElementById("mTitle");
    const mText = document.getElementById("mText");
    const mCancel = document.getElementById("mCancel");
    const mOk = document.getElementById("mOk");

    // 9 è½®ç¡®è®¤
    const FINAL_ROUND = 9;
    let round = 0;

    // å‹æƒ…å‘ï¼ˆæ¸©æŸ”èµ°å¿ƒï¼‰æ–‡æ¡ˆï¼šå‰é¢è½»è½»é€—ä¸€ä¸‹ï¼Œåé¢æ›´çœŸè¯š
    const prompts = [
      { t: "ä½ çœŸçš„æ„¿æ„å—ï¼Ÿ", d: "æˆ‘ä¸æ˜¯éšå£é—®é—®ï¼Œæˆ‘æ˜¯è®¤çœŸæƒ³å’Œä½ åšæœ‹å‹ã€‚" },
      { t: "å†ç¡®è®¤ä¸€ä¸‹ï¼š", d: "åšæœ‹å‹æ„å‘³ç€å¯ä»¥å¦è¯šï¼Œä¹Ÿå¯ä»¥åšè‡ªå·±ï¼Œä¸ç”¨é€å¼ºã€‚" },
      { t: "ä½ è¿˜æ„¿æ„å—ï¼Ÿ", d: "å¦‚æœä½ éš¾è¿‡äº†ï¼Œæˆ‘å¸Œæœ›ä½ ä¹Ÿæ„¿æ„æ¥æ‰¾æˆ‘è¯´è¯´ã€‚" },
      { t: "ç»§ç»­ç‚¹â€œç¡®å®šâ€çš„è¯ï¼š", d: "æˆ‘ä¼šæŠŠä½ çš„é‡è¦æ”¾åœ¨å¿ƒä¸Šï¼Œä¸ä¼šæ•·è¡ä½ çš„æƒ…ç»ªã€‚" },
      { t: "æˆ‘æœ‰ç‚¹ç´§å¼ â€¦", d: "å› ä¸ºæˆ‘çœŸçš„å¾ˆçæƒœèƒ½é‡è§ä½ è¿™æ ·çš„äººã€‚" },
      { t: "å†å¾€å‰ä¸€æ­¥ï¼š", d: "æˆ‘ä»¬å¯ä»¥ä¸€èµ·åˆ†äº«å°äº‹ï¼Œä¹Ÿä¸€èµ·æ‰›è¿‡éš¾çš„éƒ¨åˆ†ã€‚" },
      { t: "å·®ä¸å¤šè¦ç›¸ä¿¡ä½ äº†ã€‚", d: "ä½ æ„¿æ„ç•™ä¸‹æ¥ï¼Œè¿™ä»¶äº‹æœ¬èº«å°±å¾ˆæ¸©æŸ”ã€‚" },
      { t: "æœ€åä¸¤æ¬¡å•¦ã€‚", d: "è°¢è°¢ä½ æ„¿æ„æŠŠâ€œæœ‹å‹â€è¿™ä¸¤ä¸ªå­—è¯´å¾—è¿™ä¹ˆè®¤çœŸã€‚" },
      { t: "æœ€åç¡®è®¤ï¼š", d: "å¦‚æœä½ æ„¿æ„â€”â€”é‚£æˆ‘ä¹Ÿå¾ˆæƒ³å¥½å¥½åšä½ çš„æœ‹å‹ã€‚ğŸ’›" }
    ];

    // No æŒ‰é’®é€ƒè·‘
    function placeNo() {
      const areaRect = btnArea.getBoundingClientRect();
      const noRect = no.getBoundingClientRect();
      const maxX = Math.max(0, areaRect.width - noRect.width);
      const maxY = Math.max(0, areaRect.height - noRect.height);
      const x = Math.floor(Math.random() * (maxX + 1));
      const y = Math.floor(Math.random() * (maxY + 1));
      no.style.left = x + "px";
      no.style.top  = y + "px";
    }
    window.addEventListener("load", () => {
      no.style.left = "62%";
      no.style.top = "0px";
      setTimeout(placeNo, 50);
    });
    window.addEventListener("resize", placeNo);
    no.addEventListener("mouseenter", placeNo);
    no.addEventListener("click", (e) => { e.preventDefault(); placeNo(); });

    // å¼¹çª—æ§åˆ¶
    function openModal() {
      const i = Math.min(round, prompts.length - 1);
      mTitle.textContent = prompts[i].t;
      mText.textContent = prompts[i].d;

      // è¶Šå¾€åï¼Œâ€œç¡®å®šâ€æŒ‰é’®ç¨å¾®å˜å°ä¸€ç‚¹ï¼ˆä¿ç•™ä½ çš„æ•ˆæœï¼‰
      const shrink = Math.max(0, round - 1);
      const scale = Math.max(0.72, 1 - shrink * 0.07);
      mOk.style.transform = `scale(${scale})`;

      // ä¸­æ–‡æŒ‰é’®æ–‡æ¡ˆ
      mOk.textContent = (round >= 5) ? "æˆ‘çœŸçš„ç¡®å®š âœ…" : "æˆ‘ç¡®å®š âœ…";

      backdrop.classList.add("show");
    }
    function closeModal(){ backdrop.classList.remove("show"); }

    // ç‚¹â€œå¯ä»¥â€ï¼šå¼¹çª—å¤šè½®ç¡®è®¤
    yes.addEventListener("click", () => {
      if (round >= FINAL_ROUND) return;
      openModal();
    });

    // â€œæˆ‘å†æƒ³æƒ³â€ï¼šå…³é—­
    mCancel.addEventListener("click", () => {
      closeModal();
      placeNo();
    });

    // â€œæˆ‘ç¡®å®šâ€ï¼šä¸‹ä¸€è½®æˆ–æˆåŠŸ
    mOk.addEventListener("click", () => {
      round++;

      // æ¯ä¸€è½®è®©ä¸»é¡µé¢çš„â€œå¯ä»¥â€æ›´â€œåšå®šâ€ä¸€ç‚¹
      yes.style.transform = `scale(${1 + Math.min(round, 6) * 0.05})`;

      if (round >= FINAL_ROUND) {
        closeModal();

        // æœ€ååŒæ„åæ¢æˆ happy.jpg
        heroImg.src = "heart.jpg";
        heroImg.alt = "å¿ƒçš„ç…§ç‰‡";

        result.textContent = "é‚£å°±è¯´å¥½äº†ï¼šæˆ‘ä»¬åšæœ€å¥½çš„æœ‹å‹ã€‚å¾ˆå¼€å¿ƒè®¤è¯†ä½ ï¼Œä¹Ÿå¾ˆå¹¸è¿æœ‰ä½ ã€‚ğŸ’›";
        document.getElementById("sub").textContent = "è°¢è°¢ä½ è®¤çœŸå›åº”æˆ‘ã€‚ä»¥åä¹Ÿè¯·å¤šå¤šå…³ç…§ã€‚";
        no.style.display = "none";
        yes.textContent = "å¥½å‘€ ğŸ‰";
        return;
      }

      openModal();
    });

    // ç‚¹å‡»é®ç½©ç©ºç™½å¤„ä¹Ÿå…³é—­ï¼ˆå¯é€‰ï¼‰
    backdrop.addEventListener("click", (e) => {
      if (e.target === backdrop) closeModal();
    });
  </script>
</body>
</html>

