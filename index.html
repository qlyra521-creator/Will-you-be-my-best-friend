<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TIM, WILL YOU BE MY VALENTINE?</title>
  <style>
    body{
      margin:0;height:100vh;display:grid;place-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:linear-gradient(135deg,#ffe0ea,#fff7d6);
    }
    .card{
      width:min(560px,92vw);
      background:rgba(255,255,255,.92);
      border-radius:24px;padding:28px 22px;
      box-shadow:0 10px 30px rgba(0,0,0,.12);
      text-align:center;position:relative;overflow:hidden;
    }

    /* âœ… é¡¶éƒ¨ç…§ç‰‡ */
  .hero{
  width: min(420px, 92%);
  height: auto;            /* â† è‡ªé€‚åº” */
  max-height: 240px;       /* â† é™åˆ¶æœ€å¤§é«˜åº¦ï¼Œé¿å…å¤ªå¤§ */
  object-fit: contain;
  border-radius: 18px;
  margin: 2px auto 14px;
  display: block;
}

    h1{margin:8px 0 10px;font-size:28px}
    #sub{margin:0 0 18px;color:#555}
    .btns{
      position:relative;
      display:flex;justify-content:center;gap:14px;flex-wrap:wrap;
      height:62px;
      align-items:center;
    }
    button{
      border:0;padding:14px 20px;border-radius:14px;
      font-size:16px;cursor:pointer;user-select:none;
      box-shadow:0 6px 16px rgba(0,0,0,.12);
      transition:transform .15s ease, box-shadow .15s ease, width .15s ease, padding .15s ease;
      position:relative;
    }
    button:active{transform:scale(.98)}
    #yes{background:#ff4d7d;color:#fff}
    #no{background:#f1f1f1;color:#333;position:absolute}
    .result{margin-top:18px;font-size:20px;font-weight:800;color:#ff2d67;min-height:28px}

    /* å°å¼¹çª— */
    .modal-backdrop{
      position:absolute;inset:0;background:rgba(0,0,0,.35);
      display:none;align-items:center;justify-content:center;
      padding:18px;
    }
    .modal-backdrop.show{display:flex}
    .modal{
      width:min(420px,92vw);
      background:#fff;border-radius:18px;padding:18px 16px;
      box-shadow:0 12px 30px rgba(0,0,0,.22);
      text-align:left;
    }
    .modal h2{margin:0 0 8px;font-size:18px}
    .modal p{margin:0 0 14px;color:#444;line-height:1.4}
    .modal .row{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap}
    .modal .ghost{background:#f1f1f1;color:#333}
    .modal .hot{background:#ff4d7d;color:#fff}
  </style>
</head>
<body>
  <div class="card" id="card">

    <!-- âœ… ä¸€å¼€å§‹æ˜¾ç¤º angry.jpg -->
    <img id="heroImg" class="hero" src="angry.jpg" alt="angry photo">

    <h1 id="title">TIM, WILL YOU BE MY VALENTINE? ğŸ’˜</h1>
    <p id="sub">Choose wiselyâ€¦ ğŸ˜ˆ</p>

    <div class="btns" id="btnArea">
      <button id="yes">Yes âœ…</button>
      <button id="no">No âŒ</button>
    </div>

    <div class="result" id="result"></div>

    <!-- ç¡®è®¤å¼¹çª— -->
    <div class="modal-backdrop" id="backdrop">
      <div class="modal">
        <h2 id="mTitle">Are you sure?</h2>
        <p id="mText">Really really sure?</p>
        <div class="row">
          <button class="ghost" id="mCancel">Waitâ€¦</button>
          <button class="hot" id="mOk">Yes, Iâ€™m sure</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const card = document.getElementById("card");
    const btnArea = document.getElementById("btnArea");
    const yes = document.getElementById("yes");
    const no = document.getElementById("no");
    const result = document.getElementById("result");

    const heroImg = document.getElementById("heroImg"); // âœ… é¡¶éƒ¨å›¾ç‰‡

    const backdrop = document.getElementById("backdrop");
    const mTitle = document.getElementById("mTitle");
    const mText = document.getElementById("mText");
    const mCancel = document.getElementById("mCancel");
    const mOk = document.getElementById("mOk");

    // ä½ æƒ³è¦å¤šå°‘è½®æ‰â€œåŒæ„â€
const FINAL_ROUND = 9;
let round = 0;
    
const prompts = [
  { t: "Oh? You clicked YES ğŸ˜", d: "Bold choice. Letâ€™s see if you mean it." },
  { t: "Are you sure?", d: "No refunds. No returns. No backing out later." },
  { t: "Oopsâ€¦", d: "Kidding. You thought itâ€™d be that easy? Adorable." },
  { t: "Try again?", d: "Go on. Prove youâ€™re not just panic-clicking." },
  { t: "Plot twist:", d: "You canâ€™t be my Valentine. (â€¦or can you?)" },
  { t: "Hmm.", d: "Still saying yes? Youâ€™re either braveâ€¦ or hopelessly cute." },

  // softer from here
  { t: "Okay, okayâ€¦", d: "Iâ€™m starting to believe you actually mean it." },
  { t: "One more time.", d: "Say yes again and Iâ€™ll stop pretending Iâ€™m not smiling." },
  { t: "Alright. Final answer?", d: "Because if itâ€™s yesâ€¦ Iâ€™m saying yes too. ğŸ’" }
];

    // No æŒ‰é’®é€ƒè·‘ï¼ˆå¯é€‰ï¼‰
    function placeNo() {
      const areaRect = btnArea.getBoundingClientRect();
      const noRect = no.getBoundingClientRect();
      const maxX = Math.max(0, areaRect.width - noRect.width);
      const maxY = Math.max(0, areaRect.height - noRect.height);
      const x = Math.floor(Math.random() * (maxX + 1));
      const y = Math.floor(Math.random() * (maxY + 1));
      no.style.left = x + "px";
      no.style.top  = y + "px";
    }
    window.addEventListener("load", () => {
      no.style.left = "62%";
      no.style.top = "0px";
      setTimeout(placeNo, 50);
    });
    window.addEventListener("resize", placeNo);
    no.addEventListener("mouseenter", placeNo);
    no.addEventListener("click", (e) => { e.preventDefault(); placeNo(); });

    // å¼¹çª—æ§åˆ¶
    function openModal() {
      const i = Math.min(round, prompts.length - 1);
      mTitle.textContent = prompts[i].t;
      mText.textContent = prompts[i].d;

      // è¶Šå¾€åï¼Œ"Yes" è¶Šéš¾ç‚¹ï¼šæŒ‰é’®å˜å°ã€æ¢æ–‡æ¡ˆ
      const shrink = Math.max(0, round - 1);
      const scale = Math.max(0.72, 1 - shrink * 0.07);
      mOk.style.transform = `scale(${scale})`;
      mOk.textContent = (round >= 4) ? "YES. I MEAN IT." : "Yes, Iâ€™m sure";

      backdrop.classList.add("show");
    }
    function closeModal(){ backdrop.classList.remove("show"); }

    // ç‚¹å‡» Yesï¼šå…ˆå¼¹å‡ºç¡®è®¤ï¼ŒN è½®åæ‰æˆåŠŸ
    yes.addEventListener("click", () => {
      if (round >= FINAL_ROUND) return;
      openModal();
    });

    // å¼¹çª—é‡Œçš„â€œWaitâ€¦â€ï¼šå…³æ‰
    mCancel.addEventListener("click", () => {
      closeModal();
      placeNo();
    });

    // å¼¹çª—é‡Œçš„â€œç¡®å®šâ€ï¼šè¿›å…¥ä¸‹ä¸€è½®æˆ–æˆåŠŸ
    mOk.addEventListener("click", () => {
      round++;

      // æ¯ä¸€è½®è®©ä¸»é¡µé¢çš„ Yes ä¹Ÿæ›´â€œè¯±å¯¼â€ï¼šå˜å¤§ä¸€ç‚¹
      yes.style.transform = `scale(${1 + Math.min(round, 6) * 0.05})`;

      if (round >= FINAL_ROUND) {
        closeModal();

        // âœ… æœ€ååŒæ„åæ¢æˆ happy.jpg
        heroImg.src = "happy.jpg";
        heroImg.alt = "happy photo";

        result.textContent = "OKAY FINEâ€¦I agree! ğŸ’ Youâ€™re my Valentine I'll allow it ğŸ¥°";
        document.getElementById("sub").textContent = "You passed all the rounds ğŸ˜Œ";
        no.style.display = "none";
        yes.textContent = "Yay ğŸ‰";
        return;
      }

      openModal();
    });

    // ç‚¹å‡»é®ç½©ç©ºç™½å¤„ä¹Ÿå…³é—­ï¼ˆå¯é€‰ï¼‰
    backdrop.addEventListener("click", (e) => {
      if (e.target === backdrop) closeModal();
    });
  </script>
</body>
</html>

